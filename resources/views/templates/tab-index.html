<ion-view>
    <div class="scroll-content has-footer index-content">
        <ion-slide-box does-continue="true" auto-play="true" slide-interval="1000" ng-if="banners.length">
            <ion-slide ng-repeat="item in banners">
                <a ng-href="{{item.url}}">
                    <img ng-src="upload/{{item.imgpath}}" class="banner-img">
                </a>
            </ion-slide>
        </ion-slide-box>
        <div class="button-bar">
            <a class="button button-small button-light" ng-click="getListByRequirement('1','')">
                <img src="resources/assets/img/new.png" class="my-button-img">
                <p style="margin-bottom: 0" ng-class="{'assertive':isnew}">每周新品</p>
            </a>
            <a class="button button-small button-light" ng-click="getListByRequirement('','1')">
                <img src="resources/assets/img/fruit.png" class="my-button-img">
                <p style="margin-bottom: 0" ng-class="{'assertive':type==1}">新鲜果蔬</p>
            </a>
            <a class="button button-small button-light" ng-click="getListByRequirement('','2')">
                <img src="resources/assets/img/snacks.png" class="my-button-img">
                <p style="margin-bottom: 0" ng-class="{'assertive':type==2}">休闲零食</p>
            </a>
            <a class="button button-small button-light" ng-click="getListByRequirement('','3')">
                <img src="resources/assets/img/fish.png" class="my-button-img">
                <p style="margin-bottom: 0" ng-class="{'assertive':type==3}">海鲜肉食</p>
            </a>
        </div>
        <div class="list padding" style="background: #f7f7f7;">
            <div class="item row-no-padding item-text-wrap my-item" ng-repeat="item in products">
                <a ng-href="#/tab/product/{{item.id}}"><img ng-src="upload/{{item.imgpath}}"/></a>
                <div class="clearfix"></div>
                <div class="my-title-box">
                    <a class="item-text-wrap my-item-title">{{item.title}}</a>
                </div>
                <p class="my-item-text">{{item.description}}</p>
                <p class="text-center my-item-price">￥<span>{{item.price}}</span>元</p>
                <div class="button-bar padding">
                    <button class="button button-small button-energized" ng-click="putIntoCart('{{item.id}}')">加入购物车</button>
                    <button class="button button-small button-assertive" ng-click="showBuyNow({{item.id}})">立即购买</button>
                    <a ng-href="#/tab/product/{{item.id}}" class="button button-small button-positive">查看详情</a>
                </div>
            </div>
        </div>
        <div class="button-bar">
            <button class="button button-clear" ng-click="loadMore()" ng-disabled="!canLoad" >{{loadMsg}}</button>
        </div>
        <div style="width: 80%; padding: 10px; color: #fff; background: #000; opacity: 0.7; position: fixed; top: 30%; left: calc(10% - 10px); z-index: 99" ng-show="showSuccess">
            <p style="text-align: center">加入购物车成功</p>
        </div>
        <div class="list" style="width:100%; position: fixed; bottom:50px; z-index: 99" ng-show="showBuy">
            <div class="item item-thumbnail-left item-text-wrap">
                <img ng-src="upload/{{buyProduct.imgpath}}" />
                <h3>{{buyProduct.title}}</h3>
                <div>
                    <p class="my-item-price">￥<span>{{buyProduct.price}}</span>元</p>
                        <span class="row-no-padding" style="border: 1px solid #ff0000; background: #ff0000; border-radius: 5px; display: block; width: 108px">
                            <button class="button  button-xs ion-plus-round button-clear button-light" ng-click="changeCount('+')"></button>
                            <input type="text" style="display: inline; width: 50px; height: 24px; text-align: center" ng-model="buyProduct.count"/>
                            <button class="button  button-xs ion-minus-round button-clear button-light" ng-click="changeCount('-')"></button>
                        </span>
                </div>
            </div>
            <div class="item button-bar row-no-padding">
                <button class="button button-small button-assertive" ng-click="buyNow()">购买</button>
                <button class="button button-small button-energized" ng-click="closeBuyNow()">取消</button>
            </div>
        </div>
    </div>
</ion-view>